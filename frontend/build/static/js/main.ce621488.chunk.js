(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{170:function(e,t,n){},194:function(e,t){},196:function(e,t){},208:function(e,t,n){},245:function(e,t){},247:function(e,t){},280:function(e,t){},281:function(e,t){},286:function(e,t){},288:function(e,t){},295:function(e,t){},314:function(e,t){},332:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(77),i=n.n(s),r=(n(170),n(22)),l=n(8),o=n(9),u=n(11),d=n(10),h=n(46),j=n.n(h),m=(n(171),n(78)),g=n.n(m),b=!!String("production").includes("production")?"":"http://localhost:5000",p=new(n(189).Agent)({rejectUnauthorized:!1});function f(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=Object.keys(t),r=Object.values(t),l=new FormData,o=0;o<i.length;o++){var u=i[o],d=r[o];l.append(u,d)}g.a.post(b+e,l,{httpsAgent:p,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return JSON.parse(e.request.responseText)})).then((function(t){s&&console.log(e,t),t.success?n(t):(console.log(t.message),a&&a(t.message))})).catch((function(e){"Network Error"===e.message&&a&&a(e.message,e)})).finally((function(){c&&c()}))}n(208),n(209),n(210);var O=n(1),v=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(O.jsx)("div",{class:"container p-4",children:this.props.children})}}]),n}(a.Component),x=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(O.jsx)("div",{className:"col-md-6 col-lg-4 mt-4",children:Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("h5",{className:"card-header text-center",onClick:function(){e.props.onClick()},children:this.props.nama}),Object(O.jsx)("div",{className:"card-body",children:this.props.children})]})})}}]),n}(a.Component);function k(e,t){var n=String(parseInt(e)).replace(/[^,\d]/g,"").split(","),a=n[0].length%3,c=n[0].substr(0,a),s=n[0].substr(a).match(/\d{3}/gi);s&&(c+=(a?".":"")+s.join("."));return c=void 0!==n[1]?c+","+n[1]:c,void 0===t?c:c?t+c:""}var C=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.harga,a=t.keuntungan;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-12",children:Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(O.jsx)("p",{className:"text-danger",onClick:function(){e.props.onClick()},children:k(n,"Rp.")}),Object(O.jsx)("i",{class:"bi bi-arrow-right"}),Object(O.jsx)("p",{className:"text-success",onClick:function(){e.props.onClick()},children:k(n+a,"Rp.")})]})}),Object(O.jsx)("div",{className:"col-6 text-center",children:Object(O.jsx)("a",{href:"!#",className:"btn btn-secondary",onClick:function(){e.props.onUpdate()},children:"Edit"})}),Object(O.jsx)("div",{className:"col-6 text-center",children:Object(O.jsx)("a",{href:"!#",className:"btn btn-danger",onClick:function(){e.props.onDelete()},children:"Hapus"})})]})})}}]),n}(a.Component),y=n(79),S=function(e){var t=Object(y.b)({loading:!0,indicator:Object(O.jsx)(y.a,{width:e.size})}),n=t.containerProps,a=t.indicatorEl;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{style:{textAlign:"center"},children:[Object(O.jsxs)("section",Object(r.a)(Object(r.a)({},n),{},{children:[a," "]})),Object(O.jsx)("h2",{style:{marginTop:"10px",fontSize:e.fontSize},children:e.message})]})})},w=n(164),N=n.n(w),I=n(165),D=n.n(I)()(N.a),F=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:600;D.fire({title:Object(O.jsx)("p",{children:e}),html:t,width:n,showConfirmButton:!1,showCancelButton:!1,showCloseButton:!0,allowOutsideClick:!1,didOpen:function(){},didClose:function(){}})},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];D.fire({title:Object(O.jsx)("p",{children:e}),icon:"success",showConfirmButton:!1,showCancelButton:!1,showCloseButton:!0,willClose:function(){n&&n()},timer:t})};a.Component;a.Component;var _=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={nama_item:null,harga:null,keuntungan:null,loading:!1},a}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.nama_item,a=t.harga,c=t.keuntungan;return t.loading?Object(O.jsx)(S,{size:50,fontSize:20,message:"Request..."}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{class:"mb-3",children:Object(O.jsx)("input",{type:"text",class:"form-control",placeholder:"Nama Item",value:n,onChange:function(t){String(t.target.value).length>0?e.setState({nama_item:t.target.value}):e.setState({nama_item:null})}})}),Object(O.jsx)("div",{class:"mb-3",children:Object(O.jsx)("input",{type:"text",class:"form-control",placeholder:"Harga",value:a,onChange:function(t){t.target.value=t.target.value.replace(/[^0-9\.]+/g,""),String(t.target.value).length>0?e.setState({harga:parseInt(t.target.value)}):e.setState({harga:null})}})}),Object(O.jsx)("div",{class:"mb-3",children:Object(O.jsx)("input",{type:"text",class:"form-control",placeholder:"Keuntungan",value:c,onChange:function(t){t.target.value=t.target.value.replace(/[^0-9\.]+/g,""),String(t.target.value).length>0?e.setState({keuntungan:parseInt(t.target.value)}):e.setState({keuntungan:null})}})}),n&&String(n).length>0&&a&&String(a).length>0&&c&&String(c).length>0?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("button",{class:"btn btn-success",onClick:function(){e.setState({loading:!0}),setTimeout((function(){e.props.onSubmit({nama:n,harga:a,keuntungan:c})}),400)},children:"Submit"})}):null]})}}]),n}(a.Component),T=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(l.a)(this,n);var c=(a=t.call(this,e)).props,s=c.nama,i=c.harga,r=c.keuntungan;return a.state={nama_item:s,harga:i,keuntungan:r,loading:!1},a}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.nama_item,a=t.harga,c=t.keuntungan;return t.loading?Object(O.jsx)(S,{size:50,fontSize:20,message:"Request..."}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{class:"mb-3",children:[Object(O.jsx)("label",{for:"input-nama-item",class:"form-label",children:"Nama Item"}),Object(O.jsx)("input",{type:"text",class:"form-control",id:"input-nama-item",placeholder:"Ketik...",value:n,onChange:function(t){String(t.target.value).length>0?e.setState({nama_item:t.target.value}):e.setState({nama_item:null})}})]}),Object(O.jsxs)("div",{class:"mb-3",children:[Object(O.jsx)("label",{for:"input-harga",class:"form-label",children:"Harga"}),Object(O.jsx)("input",{type:"text",class:"form-control",id:"input-harga",placeholder:"Ketik...",value:a,onChange:function(t){t.target.value=t.target.value.replace(/[^0-9\.]+/g,""),String(t.target.value).length>0?e.setState({harga:parseInt(t.target.value)}):e.setState({harga:null})}})]}),Object(O.jsxs)("div",{class:"mb-3",children:[Object(O.jsx)("label",{for:"input-keuntungan",class:"form-label",children:"Keuntungan"}),Object(O.jsx)("input",{type:"text",class:"form-control",id:"input-keuntungan",placeholder:"Ketik...",value:c,onChange:function(t){t.target.value=t.target.value.replace(/[^0-9\.]+/g,""),String(t.target.value).length>0?e.setState({keuntungan:parseInt(t.target.value)}):e.setState({keuntungan:null})}})]}),n&&String(n).length>0&&n!==this.props.nama||a&&String(a).length>0&&parseInt(a)!==this.props.harga||c&&String(c).length>0&&parseInt(c)!==this.props.keuntungan?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("button",{class:"btn btn-success",onClick:function(){e.setState({loading:!0}),setTimeout((function(){e.props.onSubmit({_id:e.props._id,nama:n,harga:a,keuntungan:c})}),400)},children:"Submit"})}):null]})}}]),n}(a.Component),z=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.harga,n=e.keuntungan;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("table",{class:"table table-striped",children:Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{textAlign:"left"},children:"Harga Asli"}),Object(O.jsx)("td",{children:k(t,"Rp.")})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{textAlign:"left"},children:"Keuntungan"}),Object(O.jsx)("td",{children:k(n,"Rp.")})]})]})})})}}]),n}(a.Component),E=n(47),R=n.n(E),A=R.a.ExcelFile,H=R.a.ExcelFile.ExcelSheet,K=R.a.ExcelFile.ExcelColumn;j.a.lang("id");var U=j.a.unix(parseInt((new Date).getTime())/1e3).format("YYYY-MM-DD_HH-m-s_dddd"),q=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={isLoaded:!1,error:!1,item:[],view:[]},a}return Object(o.a)(n,[{key:"refreshData",value:function(){var e=this;!function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];g.a.get(b+e,{httpsAgent:p}).then((function(e){return JSON.parse(e.request.responseText)})).then((function(a){c&&console.log(e,a),a.success?t(a):(console.log(a.message),n&&n(a.message))})).catch((function(e){"Network Error"===e.message&&n&&n(e.message,e)})).finally((function(){a&&a()}))}("/api/refresh-item",(function(t){e.setState({item:t.data,view:t.data,isLoaded:!0})}))}},{key:"componentDidMount",value:function(){this.refreshData()}},{key:"addItem",value:function(e){var t=this;f("/api/insert-item",e,(function(e){t.refreshData(),B(e.message)}))}},{key:"updateItem",value:function(e){var t=this;f("/api/update-item",e,(function(e){t.refreshData(),B(e.message)}))}},{key:"deleteItem",value:function(e){var t=this;f("/api/delete-item",{_id:e._id},(function(e){t.refreshData(),B(e.message)}))}},{key:"modalView",value:function(e){var t=e.nama;F(t,Object(O.jsx)(z,Object(r.a)({},e)))}},{key:"modalInsert",value:function(){var e=this;F("Tambah Item",Object(O.jsx)(_,{onSubmit:function(t){e.addItem(t)}}))}},{key:"modalUpdate",value:function(e){var t=this;console.log({data:e}),F("Ubah Item",Object(O.jsx)(T,Object(r.a)(Object(r.a)({},e),{},{onSubmit:function(e){t.updateItem(e)}})))}},{key:"modalDelete",value:function(e){var t,n,a=this,c=e.nama;t=function(){a.deleteItem(e)},n=Object(O.jsxs)(O.Fragment,{children:["apakah kamu yakin ingin menghapus data ",Object(O.jsx)("b",{children:c})," ??"]}),D.fire({html:n,showConfirmButton:!0,confirmButtonText:Object(O.jsx)("span",{children:"Ya"}),confirmButtonColor:"#dc3545",showCancelButton:!0,cancelButtonText:Object(O.jsx)("span",{children:"Batal"}),cancelButtonColor:"#6c757d",reverseButtons:!1,showCloseButton:!0,allowOutsideClick:!1}).then((function(e){e.isConfirmed?t():e.isDenied&&D.close()}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoaded,a=t.error,c=t.item,s=t.view;return a||(n?Object(O.jsx)(v,{children:Object(O.jsxs)("div",{className:"row",children:[Object(O.jsx)("div",{className:"col-12",children:Object(O.jsxs)("div",{className:"row",children:[0===c.length?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"col-12 col-sm-6 col-md-6 col-lg-4 text-center",children:Object(O.jsx)("a",{href:"!#",className:"btn btn-success",onClick:function(){e.modalInsert()},children:"Tambah"})})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"col-6 col-sm-6 col-md-6 col-lg-4 text-center",children:Object(O.jsx)("a",{href:"!#",className:"btn btn-success",onClick:function(){e.modalInsert()},children:"Tambah"})}),Object(O.jsx)("div",{className:"col-6 col-sm-6 col-md-6 col-lg-4 text-center",children:Object(O.jsx)(A,{element:Object(O.jsx)("button",{href:"!#",className:"btn btn-secondary",children:"Download"}),filename:"Rekap_"+U,children:Object(O.jsxs)(H,{data:c.sort((function(e,t){return e.nama<t.nama?-1:e.nama>t.nama?1:0})).map((function(e,t){return e.no=t+1,e.harga_jual=parseInt(e.harga)+parseInt(e.keuntungan),e})),name:"Rekap",children:[Object(O.jsx)(K,{label:"No",value:"no"}),Object(O.jsx)(K,{label:"Nama Item",value:"nama"}),Object(O.jsx)(K,{label:"Harga Asli",value:"harga"}),Object(O.jsx)(K,{label:"Keuntungan",value:"keuntungan"}),Object(O.jsx)(K,{label:"Harga Jual",value:"harga_jual"})]})})})]}),Object(O.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-4 text-center mt-4",children:Object(O.jsxs)("div",{class:"input-group",children:[Object(O.jsx)("div",{class:"input-group-text",children:Object(O.jsx)("i",{class:"bi bi-search"})}),Object(O.jsx)("input",{type:"text",class:"form-control",placeholder:"Cari...",onChange:function(t){e.setState({view:c.filter((function(e){return String(e.nama).includes(t.target.value)}))})}})]})})]})}),s.sort((function(e,t){return e.nama<t.nama?-1:e.nama>t.nama?1:0})).map((function(t){var n=t.nama,a=t.harga,c=t.keuntungan;return Object(O.jsx)(x,{nama:n,onClick:function(){e.modalView(t)},children:Object(O.jsx)(C,{harga:a,keuntungan:c,onClick:function(){e.modalView(t)},onUpdate:function(){e.modalUpdate(t)},onDelete:function(){e.modalDelete(t)}})})}))]})}):Object(O.jsx)("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(O.jsx)(S,{size:50,fontSize:20,message:"Request..."})}))}}]),n}(a.Component),J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,333)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(q,{})}),document.getElementById("root")),J()}},[[332,1,2]]]);
//# sourceMappingURL=main.ce621488.chunk.js.map